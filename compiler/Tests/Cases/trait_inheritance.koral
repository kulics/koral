// EXPECT: 0
// EXPECT: -1

trait MyEquatable {
    equals(self, other Self) Bool
}

trait MyComparable MyEquatable {
    compare(self, other Self) Int
}

type Num(x Int)

given Num MyEquatable {
    equals(self, other Num) Bool = self.x == other.x
}

given Num MyComparable {
    compare(self, other Num) Int = self.x - other.x
}

let [T MyComparable] cmp(a T, b T) Int = {
    yield if a.equals(b) then 0 else a.compare(b)
}

let main() Int = {
    println(cmp(Num(1), Num(1)))
    println(cmp(Num(1), Num(2)))
    yield 0
}
