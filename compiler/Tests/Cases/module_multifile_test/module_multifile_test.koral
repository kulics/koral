// Test multi-file module system
// Entry file: module_multifile_test.koral
// Tests: file merge, submodule import, parent module access

using "utils"
using "helpers"
public using self.models
public using self.services

public let main() Void = {
    // Test file merge - utils.koral
    let sum = add(10, 20)
    check_assert(sum == 30, "add should work")
    
    // Test file merge - helpers.koral
    let doubled = double_value(15)
    check_assert(doubled == 30, "double should work")
    
    // Test submodule - models (access via module name)
    let user = models.create_user("Alice", 25)
    check_assert(user.name == "Alice", "user name should be Alice")
    check_assert(user.age == 25, "user age should be 25")
    
    // Test submodule - services (access via module name)
    let greeting = services.greet_user(user)
    // Just verify it doesn't crash
    
    print("All multi-file tests passed!")
}

let check_assert(condition Bool, message String) Void = {
    if not condition then {
        print("ASSERTION FAILED: ")
        print(message)
    }
}
