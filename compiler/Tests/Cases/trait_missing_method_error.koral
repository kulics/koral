// EXPECT-ERROR: missing method equals

type Box(x Int)

let [T Eq] isSelfEqual(x T) Bool = x == x

let main() Int = {
    let b = Box(1)
    let ok = isSelfEqual(b)
    yield if ok then { yield 1 } else { yield 0 }
}
