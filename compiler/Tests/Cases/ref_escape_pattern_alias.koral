// EXPECT: boom

let make(opt [String]Option) [String]Result = when opt is {
    .Some(e) then .Error(ref e),
    .None then .Ok("ok"),
}

let main() Void = {
    let r = make(.Some("boom"))
    when r is {
        .Error(e) then print_line(e.message()),
        .Ok(v) then print_line(v),
    }
}
