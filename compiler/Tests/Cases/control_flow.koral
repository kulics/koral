// EXPECT: if_greater:
// EXPECT: 10
// EXPECT: if_less:
// EXPECT: 20
// EXPECT: while_sum:
// EXPECT: 55
// EXPECT: short_circuit_1:
// EXPECT: 1
// EXPECT: short_circuit_2:
// EXPECT: 2
// EXPECT: short_circuit_3:
// EXPECT: 3

let ifExample(x Int, y Int) Int = {
    yield if x > y then {
        yield x
    } else if x < y then {
        yield y
    } else 0
}

let whileSum() Int = {
    let mut sum Int = 0
    let mut i Int = 1
    while i <= 10 then {
        sum = sum + i
        i = i + 1
    }
    yield sum
}

let shortCircuit(x Int) Int = {
    let a Bool = x > 0
    let b Bool = x < 10
    yield if a and b then {
        yield 1
    } else if not a or b then {
        yield 2
    } else {
        yield 3
    }
}

let main() Int = {
    print_line("if_greater:")
    print_line(ifExample(10, 5))
    
    print_line("if_less:")
    print_line(ifExample(5, 20))
    
    print_line("while_sum:")
    print_line(whileSum())
    
    print_line("short_circuit_1:")
    print_line(shortCircuit(5))// 1 (0 < 5 < 10)
    
    print_line("short_circuit_2:")
    print_line(shortCircuit(0 - 5))// 2 (-5 <= 0)
    
    print_line("short_circuit_3:")
    print_line(shortCircuit(15))// 3 (15 >= 10)
    
    yield 0
}
