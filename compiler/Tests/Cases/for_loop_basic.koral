// Test for loop basic functionality with List, Map, and Set

// EXPECT: List iteration:
// EXPECT: 10
// EXPECT: 20
// EXPECT: 30
// EXPECT: List sum: 60
// EXPECT: Map iteration:
// EXPECT: Set iteration:
// EXPECT: 100
// EXPECT: 200
// EXPECT: 300
// EXPECT: Set sum: 600
// EXPECT: All basic for loop tests passed

let main() Void = {
    // Test 1: List iteration
    print_line("List iteration:")
    let mut list = [Int]List.new()
    list.push(10)
    list.push(20)
    list.push(30)
    
    let mut sum = 0
    for x = list then {
        print_line(x)
        sum = sum + x
    }
    print("List sum: ")
    print_line(sum)
    assert(sum == 60, "list sum")
    
    // Test 2: Map iteration
    print_line("Map iteration:")
    let mut map = [String, Int]Map.new()
    map.insert("a", 1)
    map.insert("b", 2)
    
    let mut mapSum = 0
    for entry = map then {
        print(entry.key)
        print(" -> ")
        print_line(entry.value)
        mapSum = mapSum + entry.value
    }
    assert(mapSum == 3, "map sum")
    
    // Test 3: Set iteration
    print_line("Set iteration:")
    let mut set = [Int]Set.new()
    set.insert(100)
    set.insert(200)
    set.insert(300)
    
    let mut setSum = 0
    for v = set then {
        print_line(v)
        setSum = setSum + v
    }
    print("Set sum: ")
    print_line(setSum)
    assert(setSum == 600, "set sum")
    
    print_line("All basic for loop tests passed")
}
