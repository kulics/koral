// EXPECT: utils checkpoint passed
using * in "std/io"

let main() Void = {
    // Verify write_bytes compiles with empty buffer
    let dst = ByteBuffer.zero()
    let empty_buf = [UInt8]List.new()
    let wr = write_all_bytes(dst, empty_buf, ....)
    when wr in {
        .Ok(_) then {},
        .Error(_) then {},
    }

    // Verify read_bytes compiles
    let src = ByteBuffer.from_string("hello")
    let rb = read_all_bytes(src)
    when rb in {
        .Ok(_) then {},
        .Error(_) then {},
    }

    // Verify copy_bytes compiles
    let src2 = ByteBuffer.from_string("world")
    let dst2 = ByteBuffer.zero()
    let cb = copy_all_bytes(src2, dst2)
    when cb in {
        .Ok(_) then {},
        .Error(_) then {},
    }

    print("utils checkpoint passed")
}
