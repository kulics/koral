// EXPECT: utils checkpoint passed
using std.io.*

let main() Void = {
    // Verify write_bytes compiles with empty buffer
    let dst = Buffer.empty()
    let empty_buf = Buffer.empty()
    let wr = write_bytes(dst, empty_buf)
    when wr is {
        .Ok(_) then {},
        .Error(_) then {},
    }

    // Verify read_bytes compiles
    let src = Buffer.from_string("hello")
    let rb = read_bytes(src)
    when rb is {
        .Ok(_) then {},
        .Error(_) then {},
    }

    // Verify copy_bytes compiles
    let src2 = Buffer.from_string("world")
    let dst2 = Buffer.empty()
    let cb = copy_bytes(src2, dst2)
    when cb is {
        .Ok(_) then {},
        .Error(_) then {},
    }

    print("utils checkpoint passed")
}
