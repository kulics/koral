// EXPECT: utils checkpoint passed
using std.io.*

let main() Void = {
    // Verify write_bytes compiles with empty buffer
    let dst = MemoryFile.zero()
    let empty_buf = [UInt8]List.new()
    let wr = write_all_bytes(dst, empty_buf, ....)
    when wr is {
        .Ok(_) then {},
        .Error(_) then {},
    }

    // Verify read_bytes compiles
    let src = MemoryFile.from_string("hello")
    let rb = read_all_bytes(src)
    when rb is {
        .Ok(_) then {},
        .Error(_) then {},
    }

    // Verify copy_bytes compiles
    let src2 = MemoryFile.from_string("world")
    let dst2 = MemoryFile.zero()
    let cb = copy_all_bytes(src2, dst2)
    when cb is {
        .Ok(_) then {},
        .Error(_) then {},
    }

    print("utils checkpoint passed")
}
