// Test Option.map generic method
// EXPECT: 84
// EXPECT: None as expected

let main() Int = {
    // Test map on Some
    let opt = [Int]Option.Some(42)
    let doubled = opt.[Int]map((x) -> x * 2)
    
    when doubled in {
        .Some(v) then println(v.to_string()),
        .None then println("None"),
    }
    
    // Test map on None
    let none_opt = [Int]Option.None()
    let mapped_none = none_opt.[Int]map((x) -> x * 2)
    
    when mapped_none in {
        .Some(v) then println(v.to_string()),
        .None then println("None as expected"),
    }
    
    yield 0
}
