// EXPECT: All Map tests passed

let assert(cond Bool, msg String) Void = {
    if not cond then { panic(msg); };
};

let main() Int = {
    /*
    let mut m = [Int, String]Map.new();

    // Insert new
    assert(m.insert(1, "a"), "insert new");
    assert(m.count() == 1, "count 1");
    assert(m.get(1).unwrap() == "a", "get a");

    // Overwrite
    assert(not m.insert(1, "b"), "insert overwrite returns false");
    assert(m.count() == 1, "count still 1");
    assert(m.get(1).unwrap() == "b", "get b");

    // Missing
    let miss = m.get(2);
    assert(miss.is_none(), "missing is none");

    // Remove
    assert(m.remove(1).unwrap() == "b", "remove returns old");
    assert(m.count() == 0, "count 0");
    let removed = m.get(1);
    assert(removed.is_none(), "removed none");

    // Iterator
    m.insert(10, "x");
    m.insert(20, "y");
    let mut it = m.iterator();
    let mut seen = 0;
    while true then {
        it.next(when ) is {
            .Some(item) then {
                if item.key == 10 then { assert(item.value == "x", "iter x"); };
                if item.key == 20 then { assert(item.value == "y", "iter y"); };
                seen += 1;
            };
            .None then { break; }
        }
    };
    assert(seen == 2, "iter count");
    */
    print_string("All Map tests passed");
    0
}
