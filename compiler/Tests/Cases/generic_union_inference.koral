// Test: Generic union type inference from return type context
// EXPECT: 42
// EXPECT: hello

// Test Option inference
let get_some() [Int]Option = Option.Some(42)
let get_none() [Int]Option = Option.None()

// Test Result inference  
let get_ok() [String]Result = Result.Ok("hello")
let get_err() [String]Result = Result.Error(ref "oops")

public let main() Void = {
    when get_some() is {
        .Some(x) then println(x.to_string()),
        .None then println("none"),
    }
    when get_ok() is {
        .Ok(x) then println(x),
        .Error(_) then println("error"),
    }
}
