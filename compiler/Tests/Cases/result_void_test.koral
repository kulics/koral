// Test case for [Void]Result type
// EXPECT: Success!
// EXPECT: Something went wrong

public let do_something(success Bool) [Void]Result = {
    yield if success then {
        yield [Void]Result.Ok({})
    } else {
        yield [Void]Result.Error(ref "Something went wrong")
    }
}

public let main() Void = {
    when do_something(true) is {
        .Ok(_) then print_line("Success!"),
        .Error(msg) then print_line(msg.message()),
    }
    
    when do_something(false) is {
        .Ok(_) then print_line("Success!"),
        .Error(msg) then print_line(msg.message()),
    }
}
