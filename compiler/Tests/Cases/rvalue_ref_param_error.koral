// EXPECT: error: Type mismatch: expected String ref, got String

// This test verifies that passing an rvalue to a function expecting T ref
// still produces an error (temporary materialization only applies to method receivers)

let takes_string_ref(s String ref) Int = s.count_byte()

let main() Void = {
    // This should fail: "hello" is rvalue, function expects String ref
    let len = takes_string_ref("hello")
    print_line(len)
}
