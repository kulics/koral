// Test ZipIterator functionality

let main() Int = {
    // Create two lists
    let list1 = [Int]List.new()
    list1.push(1)
    list1.push(2)
    list1.push(3)
    
    let list2 = [String]List.new()
    list2.push("a")
    list2.push("b")
    list2.push("c")
    
    // Create iterators
    let iter1 = list1.iterator()
    let iter2 = list2.iterator()
    
    // Create ZipIterator directly
    let mut zip_iter = [Int, String, [Int]ListIterator, [String]ListIterator]ZipIterator(iter1, iter2)
    
    // Test first element
    when zip_iter.next() is {
        .Some(pair) then {
            if not {pair.first == 1} then {
                print("FAIL: First pair.first should be 1\n")
                return 1
            }
            print("First pair: ")
            print(pair.first.to_string())
            print(", ")
            print(pair.second)
            print("\n")
        },
        .None then {
            print("FAIL: Expected first pair\n")
            return 1
        },
    }
    
    print("PASS: ZipIterator works correctly\n")
    yield 0
}
