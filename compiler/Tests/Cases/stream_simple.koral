// Test basic Stream API functionality - simplified version

let main() Void = {
    // Test with List
    let mut list = [Int]List.new()
    list.push(1)
    list.push(2)
    list.push(3)
    list.push(4)
    list.push(5)
    
    // Test filter (chained)
    let filtered = Stream(list.iterator()).filter((x) -> x > 2).to_list()
    print("Filtered (>2): ")
    print_list(filtered)
    
    print_line("Test passed!")
}

let print_list(list [Int]List) Void = {
    print("[")
    let mut i = 0
    while i < list.count() then {
        if i > 0 then { print(", "); }
        print(list[i].to_string())
        i += 1
    }
    print_line("]")
}

// EXPECT: Filtered (>2): [3, 4, 5]
// EXPECT: Test passed!
