// EXPECT: 42
// EXPECT: 100
// EXPECT: 50
// EXPECT: 6
// EXPECT: 7
// EXPECT: 9

type MyOption {
    None();
    Some(val Int);
};

let main() Int = {
  let x = MyOption.Some(42);
  let y = MyOption.None();

  // Basic Match on Union
  let res1 = when x is {
      .Some(v) then v;
      .None then 0
  };
  print_int(res1);
  
  // Re-create x for next test (because x was moved)
  let x2 = MyOption.Some(42);

  // Match with Wildcard
  let res2 = when x2 is {
      .None then 0;
      _ then 100
  };
  print_int(res2);
  
  // Literal Match
  let numInt = 5;
  let res3 = when numInt is {
      1 then 10;
      5 then 50;
      _ then 0
  };
  print_int(res3);
  
  // Variable binding check
  let res4 = when numInt is {
      z then z + 1
  };
  print_int(res4);

  // String literal pattern match
  let s = "hi";
  let res5 = when s is {
      "hi" then 7;
      _ then 0
  };
  print_int(res5);

  let res6 = when s is {
      "bye" then 1;
      _ then 9
  };
  print_int(res6);
  
  0
}
