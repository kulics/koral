// Test non-object-safe trait compile error
// EXPECT-ERROR: not object-safe

trait UnsafeTrait {
    clone(self) Self
}

type Foo(x Int)

given Foo UnsafeTrait {
    public clone(self) Foo = Foo(self.x)
}

let main() Int = {
    let f UnsafeTrait ref = Foo(1)
    yield 0
}
